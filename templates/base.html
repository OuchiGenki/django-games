<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>{% block title %}{% endblock %}</title>

  <!-- Bootstrap CDN -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

  <style>
    /* ヘッダースタイル（モダンでシャープな見た目） */
    .site-header {
      background: linear-gradient(90deg, #0f172a 0%, #0b2545 50%, #0f3b6b 100%);
      color: #fff;
      box-shadow: 0 6px 18px rgba(2,6,23,0.45);
    }
    .brand {
      font-weight: 800;
      font-size: 1.05rem;
      letter-spacing: 0.04em;
      color: #fff;
      text-shadow: 0 2px 6px rgba(0,0,0,0.45);
    }
    .brand small { opacity: 0.85; font-weight: 600; margin-left: .5rem; color: rgba(255,255,255,0.85); }
    .nav-link.custom-link {
      color: rgba(255,255,255,0.86);
      transition: color .15s ease, transform .12s ease;
    }
    .nav-link.custom-link:hover {
      color: #bfe1ff;
      transform: translateY(-2px);
      text-shadow: 0 4px 10px rgba(0,0,0,0.45);
    }
    .search-input {
      min-width: 200px;
      max-width: 360px;
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.08);
      color: #fff;
    }
    .search-input::placeholder { color: rgba(255,255,255,0.7); }
    .avatar {
      width: 36px; height: 36px; border-radius: 50%;
      box-shadow: 0 4px 10px rgba(2,6,23,0.6);
      border: 2px solid rgba(255,255,255,0.08);
    }
  </style>

  {% block extra_css %}{% endblock %}
</head>

<body class="bg-light">

  <header class="p-3 site-header">
    <div class="container">
      <div class="d-flex flex-wrap align-items-center justify-content-between">

        <div class="d-flex align-items-center">
          <a href="/" class="d-flex align-items-center text-decoration-none me-3">
            <svg class="me-2" width="40" height="40" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
              <rect width="48" height="48" rx="8" fill="#ffffff10"></rect>
              <path d="M12 34L24 14L36 34H12Z" fill="#ffffff"></path>
            </svg>
            <div class="brand">Genki's Portfolio</div>
          </a>

          <nav class="d-none d-lg-flex">
            <a class="nav-link custom-link px-2" href="#">Home</a>
            <a class="nav-link custom-link px-2" href="#">Games</a>
          </nav>
        </div>

        <div class="d-flex align-items-center gap-3">
          <form class="d-none d-md-block" role="search">
            <input class="form-control form-control-sm search-input" type="search" placeholder="Search..." aria-label="Search">
          </form>

          {% if user.is_authenticated %}
            <div class="dropdown text-end">
              <a href="#" class="d-block text-decoration-none" data-bs-toggle="dropdown" aria-expanded="false">
                <img src="https://github.com/{{ user.username }}.png" alt="{{ user.username }}" class="avatar">
              </a>
              <ul class="dropdown-menu dropdown-menu-end text-small">
                <li><a class="dropdown-item" href="#">Profile</a></li>
                <li><a class="dropdown-item" href="#">Settings</a></li>
                <li><hr class="dropdown-divider"></li>
                <li>
                  <form method="post" action="{% url 'accounts:logout' %}" style="margin:0;">
                    {% csrf_token %}
                    <button type="submit" class="dropdown-item">Logout</button>
                  </form>
                </li>
              </ul>
            </div>
          {% else %}
            <a href="{% url 'accounts:login' %}" class="btn btn-outline-light me-2">Login</a>
            <a href="{% url 'accounts:signup' %}" class="btn btn-warning">Sign-up</a>
          {% endif %}

        </div>

      </div>
    </div>
  </header>

  <div class="container mb-5 mt-4">
    {% block content %}
    {% endblock %}
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  {% block script %}{% endblock %}
</body>

</html>
